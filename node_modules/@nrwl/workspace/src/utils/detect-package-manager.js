"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const child_process_1 = require("child_process");
const fileutils_1 = require("./fileutils");
function detectPackageManager() {
    try {
        const output = child_process_1.execSync(`nx config cli.packageManager`, {
            stdio: ['ignore', 'pipe', 'ignore'],
        })
            .toString()
            .trim()
            .split('\n');
        return output[output.length - 1].trim();
    }
    catch (e) {
        return fileutils_1.fileExists('yarn.lock')
            ? 'yarn'
            : fileutils_1.fileExists('pnpm-lock.yaml')
                ? 'pnpm'
                : 'npm';
    }
}
exports.detectPackageManager = detectPackageManager;
//# sourceMappingURL=detect-package-manager.js.map