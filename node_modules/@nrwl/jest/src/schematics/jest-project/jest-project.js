"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const schematics_1 = require("@angular-devkit/schematics");
const init_1 = require("../init/init");
const check_for_test_target_1 = require("./lib/check-for-test-target");
const generate_files_1 = require("./lib/generate-files");
const update_tsconfig_1 = require("./lib/update-tsconfig");
const update_workspace_1 = require("./lib/update-workspace");
function normalizeOptions(options) {
    if (options.testEnvironment === 'jsdom') {
        options.testEnvironment = '';
    }
    if (!options.skipSetupFile) {
        return options;
    }
    return Object.assign(Object.assign({}, options), { setupFile: 'none' });
}
function default_1(options) {
    options = normalizeOptions(options);
    return schematics_1.chain([
        init_1.default(options),
        check_for_test_target_1.checkForTestTarget(options),
        generate_files_1.generateFiles(options),
        update_tsconfig_1.updateTsConfig(options),
        update_workspace_1.updateWorkspace(options),
    ]);
}
exports.default = default_1;
//# sourceMappingURL=jest-project.js.map